<div class="min-h-screen bg-background flex flex-col">
  <app-header></app-header>
  
      <div class="flex flex-col justify-center mt-7">
      <div class="flex flex-col w-full justify-center sm:flex-row gap-4">
        <input
          type="text"
          [(ngModel)]="buscarVideo"
          placeholder="Buscar"
          class="flex-[0.96] px-3 py-2 sm:px-4 sm:py-3 bg-secondary text-white border border-secondary-light/30 rounded-lg focus:outline-none focus:border-primary transition-colors text-sm sm:text-base"
        />
        
        <button 
          (click)="buscarVideosPorTexto()"
          class="px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-light transition-colors"
        >
          Buscar
        </button>
      </div>
    </div>

  <main class="flex-1 flex justify-center items-center flex-col p-4 sm:p-6">
    
    <div class="bg-secondary p-8 rounded-lg shadow-lg w-full mb-5">
        <div class="flex mb-6 bg-secondary-light rounded-lg p-1">
            <button  
                (click)="busqueda()"
                [class]="seleccionBoton ? 'flex-1 py-2 px-4 rounded-md bg-primary text-white transition-all' : 'flex-1 py-2 px-4 rounded-md text-gray-400 hover:text-white transition-all'"
            >
                Buscar
            </button>
            <button 
                (click)="botonfavorito()"
                [class]="!seleccionBoton ? 'flex-1 py-2 px-4 rounded-md bg-primary text-white transition-all' : 'flex-1 py-2 px-4 rounded-md text-gray-400 hover:text-white transition-all'"
            >
                Favoritos ({{ favoritos.length }})
            </button>
        </div>
        
        @if (seleccionBoton) {
             <componente-busqueda [buscarVideo]="buscarVideo" [esFavorito]="esFavorito.bind(this)" (onFavorito)="agregarFavorito($event)" (onQuitarFavorito)="quitarFavorito($event)" (onReproducir)="reproducirVideo($event)"></componente-busqueda>
        } @else {
            <componente-favoritos [favoritos]="favoritos" (onQuitarFavorito)="quitarFavorito($event)" (onReproducir)="reproducirVideo($event)"></componente-favoritos>
        }
    </div>
  </main>
  
  <app-footer></app-footer>
</div>

@if (mostrarReproductor) {
  <componente-reproductor [video]="videoSeleccionado" (onCerrar)="cerrarReproductor()"></componente-reproductor>
}